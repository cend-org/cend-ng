import{a as $,b as ne}from"./chunk-MR6F22SY.js";import{a as te,d as ie,e as se,f as me,g as pe}from"./chunk-SAU3RIXD.js";import{f as ee,i as oe,j as re,k as ae}from"./chunk-VHXVNDKG.js";import{Ba as Z,D as j,E as V,L as k,M as N,X as O,Y as z,aa as B,ca as A,ea as G,fa as U,ga as K,ha as H,ia as J,ka as Q,la as X,ma as Y,s as R}from"./chunk-GGVN3SMG.js";import{a as W,b as P}from"./chunk-EEMOPNUV.js";import{Ca as I,Ea as _,F as v,Fa as g,Jb as F,K as s,L as h,Ma as T,Oa as p,Ob as L,R as x,S as w,Sa as M,Ta as b,Ua as S,ca as f,da as u,pa as E,ra as y,sb as D,vb as q,wa as a,xa as m,ya as n}from"./chunk-PLCPKI2S.js";function xe(i,e){if(i&1){let d=I();a(0,"section",4)(1,"form",5,0),_("ngSubmit",function(){x(d);let t=T(2),r=g();return w(t.form.valid&&r.login())}),a(3,"h1",6),p(4,"Veuillez-vous connecter \xE0 v\xF4tre compte."),m(),a(5,"div",7)(6,"div",8)(7,"div",9)(8,"label",10),p(9,"E-mail"),m(),a(10,"input",11),S("ngModelChange",function(t){x(d);let r=g();return b(r.userLoginReq.email,t)||(r.userLoginReq.email=t),w(t)}),m()(),a(11,"div",12)(12,"label",13),p(13,"Mots de passe"),m(),a(14,"p-password",14),S("ngModelChange",function(t){x(d);let r=g();return b(r.userLoginReq.password,t)||(r.userLoginReq.password=t),w(t)}),m()(),n(15,"button",15),a(16,"p-divider",16)(17,"span"),p(18,"Ou"),m()(),a(19,"button",17),n(20,"p-image",18),a(21,"div",19),p(22,"Continuer avec google"),m()(),a(23,"button",17),n(24,"p-image",20),a(25,"div",19),p(26,"Continuer avec apple"),m()(),a(27,"button",17),n(28,"p-image",21),a(29,"div",19),p(30,"Continuer avec facebook"),m()(),a(31,"button",22),n(32,"i",23),a(33,"div",24),p(34," Connectez-vous avec une qr-code "),m()(),a(35,"div",25),p(36," En continuant, vous acceptz de recevoir au num\xE9ro fourni des appels, messages WhatsApp ou SMS, y compris de fa\xE7on automatis\xE9e, de la part d'Uber et de ces soci\xE9t\xE9s affili\xE9es. "),m()()()()()}if(i&2){let d=g();f(10),M("ngModel",d.userLoginReq.email),f(4),M("ngModel",d.userLoginReq.password),y("feedback",!1)("toggleMask",!0)}}function we(i,e){i&1&&n(0,"app-login-skeleton")}var l=(()=>{let e=class e{constructor(o,t,r,ve,he){this.apolloService=o,this.messageService=t,this.toastr=r,this.validationService=ve,this.locaStorageService=he,this.loading=!1,this.userLoginReq=new $,this.registrationWithInforeq=new ie}ngOnInit(){}login(){if(!this.validationService.checkEmail(this.userLoginReq.email)){this.messageService.add({severity:"warn",summary:"Erreur de validation!",detail:"Veuillez v\xE9rifier v\xF4tre email!"});return}if(!this.userLoginReq.password){this.messageService.add({severity:"warn",summary:"Erreur de validation!",detail:"Veuillez v\xE9rifier v\xF4tre mots de passe!"});return}this.loading=!0,this.apolloService.mutate({mutation:te.EMAIL,variables:{email:this.userLoginReq.email,password:this.userLoginReq.password}}).subscribe({next:o=>{let t=o.data;t&&(this.locaStorageService.save(`${oe.cend_default_lang_id}_tkn`,t.registerWithEmail),this.messageService.add({severity:"success",summary:"OK!",detail:"Connecte avec succes!"})),this.loading=!1},error:o=>{this.messageService.add({severity:"error",summary:"Erreur lors du traitement!",detail:o.message}),this.loading=!1}})}};e.\u0275fac=function(t){return new(t||e)(u(ee),u(R),u(ne),u(re),u(ae))},e.\u0275cmp=s({type:e,selectors:[["app-main-login"]],decls:3,vars:2,consts:[["loginForm","ngForm"],["position","bottom-center","preventOpenDuplicates","true"],["class","scroll-hide w-full h-screen  flex justify-content-center mt-2",4,"ngIf"],[4,"ngIf"],[1,"scroll-hide","w-full","h-screen","flex","justify-content-center","mt-2"],["name","f",1,"w-10","md:w-3","lg-w-3","xl:w-3",3,"ngSubmit"],[1,"text-center","text-gray-600","poppins-bold"],[1,"frm","poppins-medium"],[1,"w-full","flex","flex-column","gap-1"],[1,"flex","flex-column","gap-2"],["for","email",1,"text-sm"],["placeholder","v\xF4tre email","type","email","name","email","pInputText","","id","email","aria-describedby","email-help",1,"p-inputtext-sm",3,"ngModelChange","ngModel"],[1,"flex","flex-column","gap-1","mt-2"],["for","password",1,"text-sm"],["placeholder","Entrer v\xF4tre mot de passe","name","password","type","password","id","password",1,"p-inputtext-sm",3,"ngModelChange","ngModel","feedback","toggleMask"],["type","submit","size","small","pButton","","pRipple","","label","Continuer",1,"mt-4","cursor-pointer","bg-color-main","w-full","text-white","hover:bg-green-600","border-none"],["align","center",1,"text-gray-400","font-medium"],["type","button",1,"hover:border-2","hover:border-green-300","cursor-pointer","flex","justify-content-between","border-2","border-gray-200","border-round-md","align-items-center","w-full","h-3rem","bg-white","text-white"],["src","assets/image/google.svg","alt","Image","width","20",1,"absolute"],[1,"w-full","text-gray-600","text-center"],["src","assets/image/apple.svg","alt","Image","width","20",1,"absolute"],["src","assets/image/fb.svg","alt","Image","width","20",1,"absolute"],["type","button",1,"text-green-600","hover:text-green-500","cursor-pointer","bg-green-50","flex","justify-content-between","border-none","border-round-md","align-items-center","w-full","h-3rem"],[1,"pi","pi-qrcode"],[1,"w-full","text-center"],[1,"text-xs","text-gray-400","text-center","mt-2"]],template:function(t,r){t&1&&(n(0,"p-toast",1),E(1,xe,37,4,"section",2)(2,we,1,0,"app-login-skeleton",3)),t&2&&(f(),y("ngIf",!r.loading),f(),y("ngIf",r.loading))},dependencies:[D,X,k,W,j,B,O,J,A,G,U,H,K,se],styles:[".bg-color-main[_ngcontent-%COMP%]{background-color:#3a9b23;color:#fff}  .p-password{width:100%}  .p-password-input{width:100%}"]});let i=e;return i})();var le=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s({type:e,selectors:[["app-login-student"]],decls:1,vars:0,template:function(t,r){t&1&&n(0,"app-main-login")},dependencies:[l]});let i=e;return i})();var ce=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s({type:e,selectors:[["app-login-parent"]],decls:1,vars:0,template:function(t,r){t&1&&n(0,"app-main-login")},dependencies:[l]});let i=e;return i})();var de=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s({type:e,selectors:[["app-login-tutor"]],decls:1,vars:0,template:function(t,r){t&1&&n(0,"app-main-login")},dependencies:[l]});let i=e;return i})();var ue=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s({type:e,selectors:[["app-login-profesor"]],decls:1,vars:0,template:function(t,r){t&1&&n(0,"app-main-login")},dependencies:[l]});let i=e;return i})();var fe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s({type:e,selectors:[["app-login"]],decls:1,vars:0,template:function(t,r){t&1&&n(0,"router-outlet")},dependencies:[F]});let i=e;return i})();var ye=[{path:"",component:fe,children:[{path:"student",component:le},{path:"parent",component:ce},{path:"tutor",component:de},{path:"teacher",component:ue}]}],ge=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h({type:e}),e.\u0275inj=v({imports:[L.forChild(ye),L]});let i=e;return i})();var wt=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h({type:e}),e.\u0275inj=v({imports:[q,ge,Y,N,P,V,Z,z,pe,Q,me]});let i=e;return i})();export{wt as a};
