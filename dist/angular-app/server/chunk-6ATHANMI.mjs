import './polyfills.server.mjs';
import{a as It,b as z,c as Z}from"./chunk-VCTJJOJH.mjs";import{a as Ke,d as We}from"./chunk-TCVPILNS.mjs";import{a as ht}from"./chunk-MHJ3MFMC.mjs";import{a as ot,c as bt}from"./chunk-YNF5IH4O.mjs";import{a as l,b as mt,c as ft,d as gt,e as vt,f as wt,g as Ct,h as _t,i as yt,j as W,k as M}from"./chunk-ASYXMVWF.mjs";import{E as pe,F as ce,H as ue,I as nt,N as st,Q as at,R as lt,U as pt,V as ct,X as ut,b as Ye,e as K,h as Xe,i as le,oa as dt,q as et,r as tt,t as it,u as rt}from"./chunk-WP5NNJ37.mjs";import{$a as Fe,A as ge,Aa as v,B as u,Ba as w,Bb as Ae,C as ie,Ca as oe,D as ve,Da as xe,E as d,Ea as Te,Eb as Re,F as we,Fa as ke,Ga as A,H as y,Hb as He,I as J,Ia as S,Ib as Pe,J as re,Ja as g,Jb as Ne,Kb as Be,Lb as Le,Ma as Se,Mb as H,N as Ce,Na as se,Oa as U,P as m,Pa as Q,Q as f,S as _e,Sa as Ee,Sb as O,Ta as Oe,Tb as q,U as ye,Ub as P,V as j,Vb as $e,Xb as Je,Yb as Ue,Za as Me,Zb as Qe,_a as De,ab as G,b as $,cc as Ge,db as Ve,ec as qe,ga as h,gc as ze,ha as R,lc as Ze,n as me,p as fe,sa as be,t as C,ta as b,ua as T,ub as je,va as c,xa as Ie,xb as E,yb as ae,za as ne}from"./chunk-J53VQC3W.mjs";import{a as te}from"./chunk-VVCT4QZE.mjs";var Lt=["inputtext"],$t=["container"],Jt=(r,n,i,e)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":r,"p-focus":n,"p-inputwrapper-filled":i,"p-inputwrapper-focus":e}),Ut=()=>({"p-inputtext p-chips-multiple-container":!0}),Qt=r=>({"p-chips-clearable":r}),Gt=r=>({"p-chips-token":!0,"p-focus":r}),qt=r=>({$implicit:r});function Kt(r,n){r&1&&ke(0)}function Wt(r,n){if(r&1&&(v(0,"span",12),Ee(1),w()),r&2){let i=g().$implicit,e=g();T("data-pc-section","label"),h(),Oe(e.field?e.resolveFieldData(i,e.field):i)}}function zt(r,n){if(r&1){let i=A();v(0,"TimesCircleIcon",15),S("click",function(t){m(i);let o=g(2).index,s=g();return f(s.removeItem(t,o))}),w()}r&2&&(c("styleClass","p-chips-token-icon"),T("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function Zt(r,n){}function Yt(r,n){r&1&&b(0,Zt,0,0,"ng-template")}function Xt(r,n){if(r&1){let i=A();v(0,"span",16),S("click",function(t){m(i);let o=g(2).index,s=g();return f(s.removeItem(t,o))}),b(1,Yt,1,0,null,17),w()}if(r&2){let i=g(3);T("data-pc-section","removeTokenIcon")("aria-hidden",!0),h(),c("ngTemplateOutlet",i.removeTokenIconTemplate)}}function ei(r,n){if(r&1&&(xe(0),b(1,zt,1,3,"TimesCircleIcon",13)(2,Xt,2,3,"span",14),Te()),r&2){let i=g(2);h(),c("ngIf",!i.removeTokenIconTemplate),h(),c("ngIf",i.removeTokenIconTemplate)}}function ti(r,n){if(r&1){let i=A();v(0,"li",9,2),S("click",function(t){let o=m(i).$implicit,s=g();return f(s.onItemClick(t,o))}),b(2,Kt,1,0,"ng-container",10)(3,Wt,2,2,"span",11)(4,ei,3,2,"ng-container",8),w()}if(r&2){let i=n.$implicit,e=n.index,t=g();c("ngClass",G(12,Gt,t.focusedIndex===e)),T("id",t.id+"_chips_item_"+e)("ariaLabel",i)("aria-selected",!0)("aria-setsize",t.value.length)("aria-posinset",e+1)("data-p-focused",t.focusedIndex===e)("data-pc-section","token"),h(2),c("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",G(14,qt,i)),h(),c("ngIf",!t.itemTemplate),h(),c("ngIf",!t.disabled)}}function ii(r,n){if(r&1){let i=A();v(0,"TimesIcon",15),S("click",function(){m(i);let t=g(2);return f(t.clear())}),w()}r&2&&c("styleClass","p-chips-clear-icon")}function ri(r,n){}function ni(r,n){r&1&&b(0,ri,0,0,"ng-template")}function oi(r,n){if(r&1){let i=A();v(0,"span",19),S("click",function(){m(i);let t=g(2);return f(t.clear())}),b(1,ni,1,0,null,17),w()}if(r&2){let i=g(2);h(),c("ngTemplateOutlet",i.clearIconTemplate)}}function si(r,n){if(r&1&&(v(0,"li"),b(1,ii,1,1,"TimesIcon",13)(2,oi,2,1,"span",18),w()),r&2){let i=g();h(),c("ngIf",!i.clearIconTemplate),h(),c("ngIf",i.clearIconTemplate)}}var ai={provide:rt,useExisting:ge(()=>li),multi:!0},li=(()=>{class r{document;el;cd;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;autofocus;onAdd=new j;onRemove=new j;onFocus=new j;onBlur=new j;onChipClick=new j;onClear=new j;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=Ye();focused;focusedIndex;filled;get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(i,e,t){this.document=i,this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":this.itemTemplate=i.template;break;case"removetokenicon":this.removeTokenIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;default:this.itemTemplate=i.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(i){switch(i.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(i);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(i){this.focusedIndex!==null&&this.removeItem(i,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(i){this.disabled||(this.separator&&((i.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(t=>{this.addItem(i,t,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(i,e){this.onChipClick.emit({originalEvent:i,value:e})}writeValue(i){this.value=i,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}resolveFieldData(i,e){if(i&&e){if(e.indexOf(".")==-1)return i[e];{let s=e.split("."),a=i;for(var t=0,o=s.length;t<o;++t)a=a[s[t]];return a}}else return null}onInputFocus(i){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(i)}onInputBlur(i){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(i,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(i)}removeItem(i,e){if(this.disabled)return;let t=this.value[e];this.value=this.value.filter((o,s)=>s!=e),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:i,value:t}),this.updateFilledState(),this.updateMaxedOut()}addItem(i,e,t){if(this.value=this.value||[],e&&e.trim().length){let o=this.caseSensitiveDuplication?this.value.includes(e):this.value.some(s=>s.toLowerCase()===e.toLowerCase());(this.allowDuplicate||!o)&&!this.isMaxedOut&&(this.value=[...this.value,e],this.onModelChange(this.value),this.onAdd.emit({originalEvent:i,value:e}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",t&&i.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(i){let e=i.target.value;switch(i.code){case"Backspace":e.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(i,this.focusedIndex):this.removeItem(i,this.value.length-1));break;case"Enter":case"NumpadEnter":e&&e.trim().length&&!this.isMaxedOut&&this.addItem(i,e,!0);break;case"Tab":this.addOnTab&&e&&e.trim().length&&!this.isMaxedOut&&(this.addItem(i,e,!0),i.preventDefault());break;case"ArrowLeft":e.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":i.stopPropagation();break;default:this.separator&&(this.separator===i.key||i.key.match(this.separator))&&this.addItem(i,e,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(e){return new(e||r)(R(Re),R(ye),R(je))};static \u0275cmp=J({type:r,selectors:[["p-chips"]],contentQueries:function(e,t,o){if(e&1&&Se(o,Xe,4),e&2){let s;U(s=Q())&&(t.templates=s)}},viewQuery:function(e,t){if(e&1&&(se(Lt,5),se($t,5)),e&2){let o;U(o=Q())&&(t.inputViewChild=o.first),U(o=Q())&&(t.containerViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,t){e&2&&Ie("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)("p-chips-clearable",t.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[y.HasDecoratorInputTransform,"disabled","disabled",E],field:"field",placeholder:"placeholder",max:[y.HasDecoratorInputTransform,"max","max",ae],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[y.HasDecoratorInputTransform,"tabindex","tabindex",ae],inputId:"inputId",allowDuplicate:[y.HasDecoratorInputTransform,"allowDuplicate","allowDuplicate",E],caseSensitiveDuplication:[y.HasDecoratorInputTransform,"caseSensitiveDuplication","caseSensitiveDuplication",E],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:[y.HasDecoratorInputTransform,"addOnTab","addOnTab",E],addOnBlur:[y.HasDecoratorInputTransform,"addOnBlur","addOnBlur",E],separator:"separator",showClear:[y.HasDecoratorInputTransform,"showClear","showClear",E],autofocus:[y.HasDecoratorInputTransform,"autofocus","autofocus",E]},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[Me([ai]),be],decls:8,vars:33,consts:[["container",""],["inputtext",""],["token",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"click","focus","blur","keydown","ngClass"],["role","option",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text","pAutoFocus","",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(e,t){if(e&1){let o=A();v(0,"div",3)(1,"ul",4,0),S("click",function(){return m(o),f(t.onWrapperClick())})("focus",function(){return m(o),f(t.onContainerFocus())})("blur",function(){return m(o),f(t.onContainerBlur())})("keydown",function(a){return m(o),f(t.onContainerKeyDown(a))}),b(3,ti,5,16,"li",5),v(4,"li",6)(5,"input",7,1),S("keydown",function(a){return m(o),f(t.onKeyDown(a))})("input",function(){return m(o),f(t.onInput())})("paste",function(a){return m(o),f(t.onPaste(a))})("focus",function(a){return m(o),f(t.onInputFocus(a))})("blur",function(a){return m(o),f(t.onInputBlur(a))}),w()(),b(7,si,3,2,"li",8),w()()}e&2&&(ne(t.styleClass),c("ngClass",Ve(25,Jt,t.disabled,t.focused,t.value&&t.value.length||(t.inputViewChild==null?null:t.inputViewChild.nativeElement.value)&&(t.inputViewChild==null?null:t.inputViewChild.nativeElement.value.length),t.focused))("ngStyle",t.style),T("data-pc-name","chips")("data-pc-section","root"),h(),c("ngClass",Fe(30,Ut)),T("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),h(2),c("ngForOf",t.value),h(),c("ngClass",G(31,Qt,t.showClear&&!t.disabled)),T("data-pc-section","inputToken"),h(),ne(t.inputStyleClass),c("disabled",t.disabled||t.isMaxedOut)("ngStyle",t.inputStyle)("autofocus",t.autofocus),T("id",t.inputId)("maxlength",t.maxLength)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex),h(2),c("ngIf",t.value!=null&&t.filled&&!t.disabled&&t.showClear))},dependencies:()=>[He,Pe,Ne,Le,Be,et,ce,pe],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return r})(),xt=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=re({type:r});static \u0275inj=ie({imports:[H,ue,le,tt,ce,pe,ue,le]})}return r})();var Tt=(()=>{let n=class n{constructor(e){this.messageService=e,this.title=l.app_name,this.visible=!1,this.loginReq=new ot}ngOnInit(){}};n.\u0275fac=function(t){return new(t||n)(R(K))},n.\u0275cmp=J({type:n,selectors:[["app-root"]],standalone:!0,features:[De],decls:3,vars:0,consts:[[1,"pt-6"]],template:function(t,o){t&1&&(oe(0,"app-header"),v(1,"div",0),oe(2,"router-outlet"),w())},dependencies:[H,ze,it,xt,nt,Qe,dt,at,st,ht,_t]});let r=n;return r})();var kt=[{path:"pages",loadChildren:()=>import("./chunk-57JZM3NI.mjs").then(r=>r.PagesModule)},{path:"authentication",loadChildren:()=>import("./chunk-RC665BDT.mjs").then(r=>r.AuthenticationModule)},{path:"",redirectTo:"pages",pathMatch:"full"},{path:"**",redirectTo:"pages"}];var Y=(()=>{let n=class n{constructor(e){this.http=e}formatErrors(e){return me(()=>new Error(e.error))}post(e,t={}){return this.http.post(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response"}).pipe(C(this.formatErrors))}put(e,t={}){return this.http.put(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response"}).pipe(C(this.formatErrors))}get(e,t=new q,o=new O){return this.http.get(`${l.api_host}${e}`,{observe:"response",params:t,headers:o}).pipe(C(this.formatErrors))}delete(e,t=new q,o=new O){return this.http.delete(`${l.api_host}${e}`,{observe:"response",params:t,headers:o}).pipe(C(this.formatErrors))}getImageAsBlob(e,t=new q,o=new O){return this.http.get(`${l.api_host}${e}`,{observe:"response",params:t,headers:o,responseType:"blob"}).pipe(C(this.formatErrors))}downloadGet(e,t={}){return this.http.get(`${l.api_host}${e}`,{observe:"response",responseType:"Blob"}).pipe(C(this.formatErrors))}postMultipart(e,t={},o=new O({"Content-Type":"application/json"})){return this.http.post(`${l.api_host}${e}`,t,{observe:"response"}).pipe(C(this.formatErrors))}downloadPost(e,t={}){return this.http.post(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response",responseType:"Blob"}).pipe(C(this.formatErrors))}};n.\u0275fac=function(t){return new(t||n)(d(P))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var X=new ve("JWT_OPTIONS"),N=(()=>{class r{constructor(i=null){this.tokenGetter=i&&i.tokenGetter||function(){}}urlBase64Decode(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:{e+="==";break}case 3:{e+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(i){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="";if(i=String(i).replace(/=+$/,""),i.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,a,_=0;a=i.charAt(_++);~a&&(s=o%4?s*64+a:a,o++%4)?t+=String.fromCharCode(255&s>>(-2*o&6)):0)a=e.indexOf(a);return t}b64DecodeUnicode(i){return decodeURIComponent(Array.prototype.map.call(this.b64decode(i),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(i=this.tokenGetter()){return i instanceof Promise?i.then(e=>this._decodeToken(e)):this._decodeToken(i)}_decodeToken(i){if(!i||i==="")return null;let e=i.split(".");if(e.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let t=this.urlBase64Decode(e[1]);if(!t)throw new Error("Cannot decode the token.");return JSON.parse(t)}getTokenExpirationDate(i=this.tokenGetter()){return i instanceof Promise?i.then(e=>this._getTokenExpirationDate(e)):this._getTokenExpirationDate(i)}_getTokenExpirationDate(i){let e;if(e=this.decodeToken(i),!e||!e.hasOwnProperty("exp"))return null;let t=new Date(0);return t.setUTCSeconds(e.exp),t}isTokenExpired(i=this.tokenGetter(),e){return i instanceof Promise?i.then(t=>this._isTokenExpired(t,e)):this._isTokenExpired(i,e)}_isTokenExpired(i,e){if(!i||i==="")return!0;let t=this.getTokenExpirationDate(i);return e=e||0,t===null?!1:!(t.valueOf()>new Date().valueOf()+e*1e3)}getAuthScheme(i,e){return typeof i=="function"?i(e):i}}return r.\u0275fac=function(i){return new(i||r)(d(X))},r.\u0275prov=u({token:r,factory:r.\u0275fac}),r})();var mr=yt`
    mutation{
        logIn(email:"rawalci@gmail.com", password: "valciokely")
    }
`,Et=(()=>{let n=class n extends z{GetUserId(){return this.locaStorageService.decode("user_id")}constructor(e,t){super(),this.jwtService=e,this.locaStorageService=t}};n.\u0275fac=function(t){return new(t||n)(d(N),d(M))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Ot=(()=>{let n=class n extends M{save(e,t){typeof localStorage<"u"&&localStorage.setItem(e,JSON.stringify(t))}get(e){return typeof localStorage<"u"?localStorage.getItem(e):""}remove(e){if(typeof localStorage<"u")return localStorage.removeItem(e)}decode(e){let t=`${l.cend_default_lang_id}_tkn`,o=JSON.parse(this.get(t)),s=this.jwtHelperService.decodeToken(o).data,a=JSON.parse(s)[e];return a||""}constructor(e){super(),this.jwtHelperService=e}};n.\u0275fac=function(t){return new(t||n)(d(N))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Mt=(()=>{let n=class n extends W{checkEmail(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}};n.\u0275fac=(()=>{let e;return function(o){return(e||(e=_e(n)))(o||n)}})(),n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Dt=(()=>{let n=class n{constructor(e,t){this.translateService=e,this.localStorageService=t}configure(){let e=this.localStorageService.get(`${l.cend_default_lang_id}_lang`)||"fr";this.translateService.setDefaultLang(e),this.translateService.use(e)}};n.\u0275fac=function(t){return new(t||n)(d(ct),d(M))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Ft=(()=>{let n=class n{constructor(){}intercept(e,t){return console.log("intercepted"),e.url.endsWith(`${l.api_host}/upload`)||(e=e.clone({setHeaders:{"Content-Type":"application/json",Accept:"application/json"}})),this.handleRequest(e,t)}handleRequest(e,t){return t.handle(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Vt=(()=>{let n=class n extends Z{Upload(e,t){return this.apiService.postMultipart(l.api_upload,t).pipe(fe(o=>this.handleResponse(e,o)),C(o=>this.catchError(e,o)))}constructor(e){super(),this.apiService=e}catchError(e,t){throw t instanceof Error?new Error(t.message):new Error(t)}handleResponse(e,t){if(e&&t.status==202)throw new Error(t.body.toString());return t}};n.\u0275fac=function(t){return new(t||n)(d(Y))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var jt=[Y,K,It,N,{provide:z,useClass:Et},{provide:Z,useClass:Vt},{provide:M,useClass:Ot},{provide:W,useClass:Mt},{provide:lt,useClass:Dt},{provide:X,useValue:X},{provide:$e,useClass:Ft,multi:!0}];var di=(r,n,i)=>{let e=["POST","PUT","PATCH"].indexOf(r.method.toUpperCase())!==-1,t=p=>["variables","extensions"].indexOf(p.toLowerCase())!==-1,o=r.body.length,s=r.options&&r.options.useMultipart,a;if(s){if(o)return new $(p=>p.error(new Error("File upload is not available when combined with Batching")));if(!e)return new $(p=>p.error(new Error("File upload is not available when GET is used")));if(!i)return new $(p=>p.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));a=i(r.body),s=!!a.files.size}let _={};if(o){if(!e)return new $(p=>p.error(new Error("Batching is not available for GET requests")));_={body:r.body}}else{let p=s?a.clone:r.body;e?_={body:p}:_={params:Object.keys(r.body).reduce((D,x)=>{let F=r.body[x];return D[x]=t(x)?JSON.stringify(F):F,D},{})}}if(s&&e){let p=new FormData;p.append("operations",JSON.stringify(_.body));let L={},D=a.files,x=0;D.forEach(F=>{L[++x]=F}),p.append("map",JSON.stringify(L)),x=0,D.forEach((F,k)=>{p.append(++x+"",k,k.name)}),_.body=p}return n.request(r.method,r.url,te(te({observe:"response",responseType:"json",reportProgress:!1},_),r.options))},hi=(r,n)=>r&&n?n.keys().reduce((e,t)=>e.set(t,n.getAll(t)),r):n||r;function mi(...r){return r.find(n=>typeof n<"u")}function fi(r){let n=r.headers&&r.headers instanceof O?r.headers:new O(r.headers);if(r.clientAwareness){let{name:i,version:e}=r.clientAwareness;i&&!n.has("apollographql-client-name")&&(n=n.set("apollographql-client-name",i)),e&&!n.has("apollographql-client-version")&&(n=n.set("apollographql-client-version",e))}return n}var gi={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function B(r,n,i){return mi(r[i],n[i],gi[i])}var de=class extends gt{httpClient;options;requester;print=mt;constructor(n,i){super(),this.httpClient=n,this.options=i,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=e=>new ft(t=>{let o=e.getContext(),s=B(o,this.options,"method"),a=B(o,this.options,"includeQuery"),_=B(o,this.options,"includeExtensions"),p=B(o,this.options,"uri"),L=B(o,this.options,"withCredentials"),D=B(o,this.options,"useMultipart"),x=this.options.useGETForQueries===!0,F=e.query.definitions.some(V=>V.kind==="OperationDefinition"&&V.operation==="query");x&&F&&(s="GET");let k={method:s,url:typeof p=="function"?p(e):p,body:{operationName:e.operationName,variables:e.variables},options:{withCredentials:L,useMultipart:D,headers:this.options.headers}};_&&(k.body.extensions=e.extensions),a&&(k.body.query=this.print(e.query));let Bt=fi(o);k.options.headers=hi(k.options.headers,Bt);let he=di(k,this.httpClient,this.options.extractFiles).subscribe({next:V=>{e.setContext({response:V}),t.next(V.body)},error:V=>t.error(V),complete:()=>t.complete()});return()=>{he.closed||he.unsubscribe()}})}request(n){return this.requester(n)}},At=(()=>{class r{httpClient;constructor(i){this.httpClient=i}create(i){return new de(this.httpClient,i)}static \u0275fac=function(e){return new(e||r)(d(P))};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function vi(){let r=we(At),n="";return typeof localStorage<"u"&&(n=localStorage.getItem(`${l.cend_default_lang_id}_tkn`)||""),{link:r.create({uri:`${l.api_host}/query`}),cache:new vt}}var Rt=[Ct,{provide:wt,useFactory:vi}];var ee=class{http;prefix;suffix;constructor(n,i="/assets/i18n/",e=".json"){this.http=n,this.prefix=i,this.suffix=e}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}};function Ht(r){return new ee(r,"./assets/i18n/",".json")}var Pt={providers:[Ze(kt),qe(),Ke(),H,Je(Ue()),jt,Rt,Ce(ut.forRoot({loader:{provide:pt,useFactory:Ht,deps:[P]}})),bt({timeOut:1e4,positionClass:"toast-bottom-center",preventDuplicates:!0,progressBar:!0,easeTime:300})]};var wi={providers:[We()]},Nt=Ae(Pt,wi);var Ci=()=>Ge(Tt,Nt),On=Ci;export{On as a};
