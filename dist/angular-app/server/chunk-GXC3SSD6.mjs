import './polyfills.server.mjs';
import{a as X,b as Ft,c as ee}from"./chunk-4SFO2TCC.mjs";import{a as Ze,d as Ye}from"./chunk-OVSPWDP6.mjs";import{a as bt,b as yt,c as It}from"./chunk-KRGNCDA4.mjs";import{a as ht}from"./chunk-2NMCLP3E.mjs";import{a as xt,b as St,c as Tt,d as kt,e as Et,f as Ot,g as Mt,h as Dt,i as Y}from"./chunk-BHUNXUMS.mjs";import{E as de,F as he,H as me,L as dt,Q as mt,R as Z,T as l,U as x,V as D,W as ft,aa as gt,b as ot,ba as vt,da as wt,e as st,h as at,i as ue,ja as Ct,la as _t,q as lt,r as ct,t as pt,u as ut}from"./chunk-HW3B2DH6.mjs";import{$b as Ge,Ab as O,Ba as y,Bb as pe,Ca as I,D as _e,E as u,Ea as Ee,F as se,Fa as Oe,Fb as He,G as be,Ga as Me,H as c,Ha as L,I as ye,Ia as E,Ib as Ne,Ja as g,K as _,L as U,Lb as Pe,M as ae,Nb as Be,Oa as De,Ob as $e,Pa as ce,Pb as Je,Q as Ie,Qa as G,Qb as Ue,Ra as Q,S as m,Sb as H,T as f,Ua as q,V as xe,Va as Fe,X as Se,Y as A,Yb as M,Zb as W,_b as N,ab as Ve,b as J,bb as je,bc as Qe,cb as Ae,cc as qe,db as K,dc as Ke,ec as We,gb as Re,ha as h,ia as R,jc as ze,kc as Xe,lc as et,mc as tt,nc as it,o as we,q as Ce,qc as z,sa as Te,sc as rt,ta as b,tc as nt,u as v,ua as T,va as d,xa as ke,xb as Le,za as le}from"./chunk-ZK3FQWDE.mjs";import{a as oe}from"./chunk-VVCT4QZE.mjs";var Zt=["inputtext"],Yt=["container"],Xt=(r,n,i,e)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":r,"p-focus":n,"p-inputwrapper-filled":i,"p-inputwrapper-focus":e}),ei=()=>({"p-inputtext p-chips-multiple-container":!0}),ti=r=>({"p-chips-clearable":r}),ii=r=>({"p-chips-token":!0,"p-focus":r}),ri=r=>({$implicit:r});function ni(r,n){r&1&&Me(0)}function oi(r,n){if(r&1&&(y(0,"span",12),q(1),I()),r&2){let i=g().$implicit,e=g();T("data-pc-section","label"),h(),Fe(e.field?e.resolveFieldData(i,e.field):i)}}function si(r,n){if(r&1){let i=L();y(0,"TimesCircleIcon",15),E("click",function(t){m(i);let o=g(2).index,s=g();return f(s.removeItem(t,o))}),I()}r&2&&(d("styleClass","p-chips-token-icon"),T("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function ai(r,n){}function li(r,n){r&1&&b(0,ai,0,0,"ng-template")}function ci(r,n){if(r&1){let i=L();y(0,"span",16),E("click",function(t){m(i);let o=g(2).index,s=g();return f(s.removeItem(t,o))}),b(1,li,1,0,null,17),I()}if(r&2){let i=g(3);T("data-pc-section","removeTokenIcon")("aria-hidden",!0),h(),d("ngTemplateOutlet",i.removeTokenIconTemplate)}}function pi(r,n){if(r&1&&(Ee(0),b(1,si,1,3,"TimesCircleIcon",13)(2,ci,2,3,"span",14),Oe()),r&2){let i=g(2);h(),d("ngIf",!i.removeTokenIconTemplate),h(),d("ngIf",i.removeTokenIconTemplate)}}function ui(r,n){if(r&1){let i=L();y(0,"li",9,2),E("click",function(t){let o=m(i).$implicit,s=g();return f(s.onItemClick(t,o))}),b(2,ni,1,0,"ng-container",10)(3,oi,2,2,"span",11)(4,pi,3,2,"ng-container",8),I()}if(r&2){let i=n.$implicit,e=n.index,t=g();d("ngClass",K(12,ii,t.focusedIndex===e)),T("id",t.id+"_chips_item_"+e)("ariaLabel",i)("aria-selected",!0)("aria-setsize",t.value.length)("aria-posinset",e+1)("data-p-focused",t.focusedIndex===e)("data-pc-section","token"),h(2),d("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",K(14,ri,i)),h(),d("ngIf",!t.itemTemplate),h(),d("ngIf",!t.disabled)}}function di(r,n){if(r&1){let i=L();y(0,"TimesIcon",15),E("click",function(){m(i);let t=g(2);return f(t.clear())}),I()}r&2&&d("styleClass","p-chips-clear-icon")}function hi(r,n){}function mi(r,n){r&1&&b(0,hi,0,0,"ng-template")}function fi(r,n){if(r&1){let i=L();y(0,"span",19),E("click",function(){m(i);let t=g(2);return f(t.clear())}),b(1,mi,1,0,null,17),I()}if(r&2){let i=g(2);h(),d("ngTemplateOutlet",i.clearIconTemplate)}}function gi(r,n){if(r&1&&(y(0,"li"),b(1,di,1,1,"TimesIcon",13)(2,fi,2,1,"span",18),I()),r&2){let i=g();h(),d("ngIf",!i.clearIconTemplate),h(),d("ngIf",i.clearIconTemplate)}}var vi={provide:ut,useExisting:_e(()=>wi),multi:!0},wi=(()=>{class r{document;el;cd;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;autofocus;onAdd=new A;onRemove=new A;onFocus=new A;onBlur=new A;onChipClick=new A;onClear=new A;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=ot();focused;focusedIndex;filled;get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(i,e,t){this.document=i,this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":this.itemTemplate=i.template;break;case"removetokenicon":this.removeTokenIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;default:this.itemTemplate=i.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(i){switch(i.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(i);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(i){this.focusedIndex!==null&&this.removeItem(i,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(i){this.disabled||(this.separator&&((i.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(t=>{this.addItem(i,t,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(i,e){this.onChipClick.emit({originalEvent:i,value:e})}writeValue(i){this.value=i,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}resolveFieldData(i,e){if(i&&e){if(e.indexOf(".")==-1)return i[e];{let s=e.split("."),a=i;for(var t=0,o=s.length;t<o;++t)a=a[s[t]];return a}}else return null}onInputFocus(i){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(i)}onInputBlur(i){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(i,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(i)}removeItem(i,e){if(this.disabled)return;let t=this.value[e];this.value=this.value.filter((o,s)=>s!=e),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:i,value:t}),this.updateFilledState(),this.updateMaxedOut()}addItem(i,e,t){if(this.value=this.value||[],e&&e.trim().length){let o=this.caseSensitiveDuplication?this.value.includes(e):this.value.some(s=>s.toLowerCase()===e.toLowerCase());(this.allowDuplicate||!o)&&!this.isMaxedOut&&(this.value=[...this.value,e],this.onModelChange(this.value),this.onAdd.emit({originalEvent:i,value:e}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",t&&i.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(i){let e=i.target.value;switch(i.code){case"Backspace":e.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(i,this.focusedIndex):this.removeItem(i,this.value.length-1));break;case"Enter":case"NumpadEnter":e&&e.trim().length&&!this.isMaxedOut&&this.addItem(i,e,!0);break;case"Tab":this.addOnTab&&e&&e.trim().length&&!this.isMaxedOut&&(this.addItem(i,e,!0),i.preventDefault());break;case"ArrowLeft":e.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":i.stopPropagation();break;default:this.separator&&(this.separator===i.key||i.key.match(this.separator))&&this.addItem(i,e,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(e){return new(e||r)(R(Ne),R(Se),R(Le))};static \u0275cmp=U({type:r,selectors:[["p-chips"]],contentQueries:function(e,t,o){if(e&1&&De(o,at,4),e&2){let s;G(s=Q())&&(t.templates=s)}},viewQuery:function(e,t){if(e&1&&(ce(Zt,5),ce(Yt,5)),e&2){let o;G(o=Q())&&(t.inputViewChild=o.first),G(o=Q())&&(t.containerViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,t){e&2&&ke("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)("p-chips-clearable",t.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[_.HasDecoratorInputTransform,"disabled","disabled",O],field:"field",placeholder:"placeholder",max:[_.HasDecoratorInputTransform,"max","max",pe],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[_.HasDecoratorInputTransform,"tabindex","tabindex",pe],inputId:"inputId",allowDuplicate:[_.HasDecoratorInputTransform,"allowDuplicate","allowDuplicate",O],caseSensitiveDuplication:[_.HasDecoratorInputTransform,"caseSensitiveDuplication","caseSensitiveDuplication",O],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:[_.HasDecoratorInputTransform,"addOnTab","addOnTab",O],addOnBlur:[_.HasDecoratorInputTransform,"addOnBlur","addOnBlur",O],separator:"separator",showClear:[_.HasDecoratorInputTransform,"showClear","showClear",O],autofocus:[_.HasDecoratorInputTransform,"autofocus","autofocus",O]},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[Ve([vi]),Te],decls:8,vars:33,consts:[["container",""],["inputtext",""],["token",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"click","focus","blur","keydown","ngClass"],["role","option",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text","pAutoFocus","",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(e,t){if(e&1){let o=L();y(0,"div",3)(1,"ul",4,0),E("click",function(){return m(o),f(t.onWrapperClick())})("focus",function(){return m(o),f(t.onContainerFocus())})("blur",function(){return m(o),f(t.onContainerBlur())})("keydown",function(a){return m(o),f(t.onContainerKeyDown(a))}),b(3,ui,5,16,"li",5),y(4,"li",6)(5,"input",7,1),E("keydown",function(a){return m(o),f(t.onKeyDown(a))})("input",function(){return m(o),f(t.onInput())})("paste",function(a){return m(o),f(t.onPaste(a))})("focus",function(a){return m(o),f(t.onInputFocus(a))})("blur",function(a){return m(o),f(t.onInputBlur(a))}),I()(),b(7,gi,3,2,"li",8),I()()}e&2&&(le(t.styleClass),d("ngClass",Re(25,Xt,t.disabled,t.focused,t.value&&t.value.length||(t.inputViewChild==null?null:t.inputViewChild.nativeElement.value)&&(t.inputViewChild==null?null:t.inputViewChild.nativeElement.value.length),t.focused))("ngStyle",t.style),T("data-pc-name","chips")("data-pc-section","root"),h(),d("ngClass",Ae(30,ei)),T("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),h(2),d("ngForOf",t.value),h(),d("ngClass",K(31,ti,t.showClear&&!t.disabled)),T("data-pc-section","inputToken"),h(),le(t.inputStyleClass),d("disabled",t.disabled||t.isMaxedOut)("ngStyle",t.inputStyle)("autofocus",t.autofocus),T("id",t.inputId)("maxlength",t.maxLength)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex),h(2),d("ngIf",t.value!=null&&t.filled&&!t.disabled&&t.showClear))},dependencies:()=>[Pe,Be,$e,Ue,Je,lt,he,de],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return r})(),Vt=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=ae({type:r});static \u0275inj=se({imports:[H,me,ue,ct,he,de,me,ue]})}return r})();var te=(()=>{let n=class n{constructor(e,t){this.router=e,this.loadingService=t,this.monitorRouteChanges()}monitorRouteChanges(){this.router.events.subscribe(e=>{e instanceof Xe?this.loadingService.emitChange(!0):e instanceof et?this.loadingService.emitChange(!1):e instanceof tt?this.loadingService.emitChange(!1):e instanceof it&&this.loadingService.emitChange(!1)})}};n.\u0275fac=function(t){return new(t||n)(c(z),c(x))},n.\u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();var jt=(()=>{let n=class n{constructor(e,t){this.loadingService=e,this.routeMonitorService=t,this.title=l.app_name,this.loading=!0,this.visible=!1,this.loginReq=new ht}ngOnInit(){}};n.\u0275fac=function(t){return new(t||n)(R(x),R(te))},n.\u0275cmp=U({type:n,selectors:[["app-root"]],standalone:!0,features:[je],decls:1,vars:0,template:function(t,o){t&1&&q(0,` en maintenance
`)},dependencies:[H,Ct,pt,Vt,dt,We,_t,mt,It,Mt]});let r=n;return r})();var At=[{path:"pages",loadChildren:()=>import("./chunk-XHLPU5GJ.mjs").then(r=>r.PagesModule)},{path:"authentication",loadChildren:()=>import("./chunk-KUZ374CW.mjs").then(r=>r.AuthenticationModule)},{path:"",redirectTo:"pages",pathMatch:"full"},{path:"**",redirectTo:"pages"}];var ie=(()=>{let n=class n{constructor(e){this.http=e}formatErrors(e){return we(()=>new Error(e.error))}post(e,t={}){return this.http.post(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response"}).pipe(v(this.formatErrors))}put(e,t={}){return this.http.put(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response"}).pipe(v(this.formatErrors))}get(e,t=new W,o=new M){return this.http.get(`${l.api_host}${e}`,{observe:"response",params:t,headers:o}).pipe(v(this.formatErrors))}delete(e,t=new W,o=new M){return this.http.delete(`${l.api_host}${e}`,{observe:"response",params:t,headers:o}).pipe(v(this.formatErrors))}getImageAsBlob(e,t=new W,o=new M){return this.http.get(`${l.api_host}${e}`,{observe:"response",params:t,headers:o,responseType:"blob"}).pipe(v(this.formatErrors))}downloadGet(e,t={}){return this.http.get(`${l.api_host}${e}`,{observe:"response",responseType:"Blob"}).pipe(v(this.formatErrors))}postMultipart(e,t={},o=new M({"Content-Type":"application/json"})){return this.http.post(`${l.api_host}${e}`,t,{observe:"response"}).pipe(v(this.formatErrors))}downloadPost(e,t={}){return this.http.post(`${l.api_host}${e}`,JSON.stringify(t),{observe:"response",responseType:"Blob"}).pipe(v(this.formatErrors))}};n.\u0275fac=function(t){return new(t||n)(c(N))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var re=new be("JWT_OPTIONS"),P=(()=>{class r{constructor(i=null){this.tokenGetter=i&&i.tokenGetter||function(){}}urlBase64Decode(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:{e+="==";break}case 3:{e+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(i){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="";if(i=String(i).replace(/=+$/,""),i.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,a,C=0;a=i.charAt(C++);~a&&(s=o%4?s*64+a:a,o++%4)?t+=String.fromCharCode(255&s>>(-2*o&6)):0)a=e.indexOf(a);return t}b64DecodeUnicode(i){return decodeURIComponent(Array.prototype.map.call(this.b64decode(i),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(i=this.tokenGetter()){return i instanceof Promise?i.then(e=>this._decodeToken(e)):this._decodeToken(i)}_decodeToken(i){if(!i||i==="")return null;let e=i.split(".");if(e.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let t=this.urlBase64Decode(e[1]);if(!t)throw new Error("Cannot decode the token.");return JSON.parse(t)}getTokenExpirationDate(i=this.tokenGetter()){return i instanceof Promise?i.then(e=>this._getTokenExpirationDate(e)):this._getTokenExpirationDate(i)}_getTokenExpirationDate(i){let e;if(e=this.decodeToken(i),!e||!e.hasOwnProperty("exp"))return null;let t=new Date(0);return t.setUTCSeconds(e.exp),t}isTokenExpired(i=this.tokenGetter(),e){return i instanceof Promise?i.then(t=>this._isTokenExpired(t,e)):this._isTokenExpired(i,e)}_isTokenExpired(i,e){if(!i||i==="")return!0;let t=this.getTokenExpirationDate(i);return e=e||0,t===null?!1:!(t.valueOf()>new Date().valueOf()+e*1e3)}getAuthScheme(i,e){return typeof i=="function"?i(e):i}}return r.\u0275fac=function(i){return new(i||r)(c(re))},r.\u0275prov=u({token:r,factory:r.\u0275fac}),r})();var Tr=Dt`
    mutation{
        logIn(email:"rawalci@gmail.com", password: "valciokely")
    }
`,Lt=(()=>{let n=class n extends Z{LogOut(){this.locaStorageService.remove(`${l.cend_default_lang_id}_tkn`)}IsAuthentified(){let e=this.locaStorageService.get(`${l.cend_default_lang_id}_tkn`);return e?!this.jwtHelper.isTokenExpired(e):!1}GetUserId(){return this.locaStorageService.decode("user_id")}constructor(e,t,o){super(),this.locaStorageService=e,this.jwtHelper=t,this.router=o}};n.\u0275fac=function(t){return new(t||n)(c(D),c(P),c(z))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Ht=(()=>{let n=class n extends D{save(e,t){typeof localStorage<"u"&&localStorage.setItem(e,JSON.stringify(t))}get(e){return typeof localStorage<"u"?localStorage.getItem(e):""}remove(e){if(typeof localStorage<"u")return localStorage.removeItem(e)}decode(e){let t=`${l.cend_default_lang_id}_tkn`,o=JSON.parse(this.get(t)),s=this.jwtHelperService.decodeToken(o).data,a=JSON.parse(s)[e];return a||""}constructor(e){super(),this.jwtHelperService=e}};n.\u0275fac=function(t){return new(t||n)(c(P))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Nt=(()=>{let n=class n extends Y{checkEmail(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}};n.\u0275fac=(()=>{let e;return function(o){return(e||(e=xe(n)))(o||n)}})(),n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Pt=(()=>{let n=class n{constructor(e,t,o){this.translateService=e,this.localStorageService=t,this.loadingService=o}configure(){let e=this.localStorageService.get(`${l.cend_default_lang_id}_lang`)||"fr";this.translateService.setDefaultLang(e.replace(/"/g,"")),this.translateService.use(e.replace(/"/g,"")),setTimeout(()=>{this.loadingService.emitChange(!1)},1e3)}};n.\u0275fac=function(t){return new(t||n)(c(vt),c(D),c(x))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Bt=(()=>{let n=class n extends ee{Upload(e,t){return this.apiService.postMultipart(l.api_upload,t).pipe(Ce(o=>this.handleResponse(e,o)),v(o=>this.catchError(e,o)))}constructor(e){super(),this.apiService=e}catchError(e,t){throw t instanceof Error?new Error(t.message):new Error(t)}handleResponse(e,t){if(e&&t.status==202)throw new Error(t.body.toString());return t}};n.\u0275fac=function(t){return new(t||n)(c(ie))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var $t=[bt,yt];var Jt=[$t,Ft,ie,st,X,P,x,te,{provide:Z,useClass:Lt},{provide:ee,useClass:Bt},{provide:D,useClass:Ht},{provide:Y,useClass:Nt},{provide:ft,useClass:Pt},{provide:re,useValue:re}];var xi=(r,n,i)=>{let e=["POST","PUT","PATCH"].indexOf(r.method.toUpperCase())!==-1,t=p=>["variables","extensions"].indexOf(p.toLowerCase())!==-1,o=r.body.length,s=r.options&&r.options.useMultipart,a;if(s){if(o)return new J(p=>p.error(new Error("File upload is not available when combined with Batching")));if(!e)return new J(p=>p.error(new Error("File upload is not available when GET is used")));if(!i)return new J(p=>p.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));a=i(r.body),s=!!a.files.size}let C={};if(o){if(!e)return new J(p=>p.error(new Error("Batching is not available for GET requests")));C={body:r.body}}else{let p=s?a.clone:r.body;e?C={body:p}:C={params:Object.keys(r.body).reduce((F,S)=>{let V=r.body[S];return F[S]=t(S)?JSON.stringify(V):V,F},{})}}if(s&&e){let p=new FormData;p.append("operations",JSON.stringify(C.body));let $={},F=a.files,S=0;F.forEach(V=>{$[++S]=V}),p.append("map",JSON.stringify($)),S=0,F.forEach((V,k)=>{p.append(++S+"",k,k.name)}),C.body=p}return n.request(r.method,r.url,oe(oe({observe:"response",responseType:"json",reportProgress:!1},C),r.options))},Si=(r,n)=>r&&n?n.keys().reduce((e,t)=>e.set(t,n.getAll(t)),r):n||r;function Ti(...r){return r.find(n=>typeof n<"u")}function ki(r){let n=r.headers&&r.headers instanceof M?r.headers:new M(r.headers);if(r.clientAwareness){let{name:i,version:e}=r.clientAwareness;i&&!n.has("apollographql-client-name")&&(n=n.set("apollographql-client-name",i)),e&&!n.has("apollographql-client-version")&&(n=n.set("apollographql-client-version",e))}return n}var Ei={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function B(r,n,i){return Ti(r[i],n[i],Ei[i])}var ge=class extends Tt{httpClient;options;requester;print=xt;constructor(n,i){super(),this.httpClient=n,this.options=i,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=e=>new St(t=>{let o=e.getContext(),s=B(o,this.options,"method"),a=B(o,this.options,"includeQuery"),C=B(o,this.options,"includeExtensions"),p=B(o,this.options,"uri"),$=B(o,this.options,"withCredentials"),F=B(o,this.options,"useMultipart"),S=this.options.useGETForQueries===!0,V=e.query.definitions.some(j=>j.kind==="OperationDefinition"&&j.operation==="query");S&&V&&(s="GET");let k={method:s,url:typeof p=="function"?p(e):p,body:{operationName:e.operationName,variables:e.variables},options:{withCredentials:$,useMultipart:F,headers:this.options.headers}};C&&(k.body.extensions=e.extensions),a&&(k.body.query=this.print(e.query));let zt=ki(o);k.options.headers=Si(k.options.headers,zt);let ve=xi(k,this.httpClient,this.options.extractFiles).subscribe({next:j=>{e.setContext({response:j}),t.next(j.body)},error:j=>t.error(j),complete:()=>t.complete()});return()=>{ve.closed||ve.unsubscribe()}})}request(n){return this.requester(n)}},Ut=(()=>{class r{httpClient;constructor(i){this.httpClient=i}create(i){return new ge(this.httpClient,i)}static \u0275fac=function(e){return new(e||r)(c(N))};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Oi(){let r=ye(Ut),n="";return typeof localStorage<"u"&&(n=localStorage.getItem(`${l.cend_default_lang_id}_tkn`)||""),{link:r.create({uri:`${l.api_host}/query`}),cache:new kt}}var Gt=[Ot,{provide:Et,useFactory:Oi}];var ne=class{http;prefix;suffix;constructor(n,i="/assets/i18n/",e=".json"){this.http=n,this.prefix=i,this.suffix=e}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}};function Qt(r){return new ne(r,"./assets/i18n/",".json")}var qt=(()=>{let n=class n{constructor(e,t){this.headerService=e,this.loadingService=t}intercept(e,t){return this.loadingService.emitChange(!0),e.url.endsWith(`${l.api_host}/upload`)&&(e=e.clone({setHeaders:{Authorization:this.headerService.GetAuth()}})),this.handleRequest(e,t)}handleRequest(e,t){return t.handle(e)}};n.\u0275fac=function(t){return new(t||n)(c(X),c(x))},n.\u0275prov=u({token:n,factory:n.\u0275fac});let r=n;return r})();var Kt={providers:[rt(At,nt({anchorScrolling:"enabled"})),Ze(),H,Qe(Ke(),qe()),{provide:Ge,useClass:qt,multi:!0},Jt,Gt,Ie(wt.forRoot({loader:{provide:gt,useFactory:Qt,deps:[N]}}))]};var Mi={providers:[Ye()]},Wt=He(Kt,Mi);var Di=()=>ze(jt,Wt),Qn=Di;export{Qn as a};
